
%Tests the Bounding box calculations and starting point calculations for 
%Regular Polygons with Sides Divisible by 4 and by 2

/x 300 def
/y 300 def
/deg 36 def


/side 100 def
/n 6 def
/ExtAngle 360 n div def
 /polygon{
 gsave
newpath
moveto
deg rotate
n 1 sub{
side 0 rlineto % add line
ExtAngle rotate
} repeat
closepath 
stroke
grestore
 } def


newpath
100 300 moveto
600 300 lineto 
stroke

newpath
300 600 moveto
300 100 lineto
stroke

%300 200 polygon  % This is the starting point

/n 4 def
/ExtAngle 360 n div def

%282 232 polygon

/n 3 def
/ExtAngle 360 n div def


271 250 polygon

/n 5 def
/ExtAngle 360 n div def

308 185 polygon


/h 135 def
/w 135 def
 /rectangle {
gsave
newpath % start in top right corner with drawing
 moveto
 %deg rotate
 w 2 div x add h 2 div y add moveto
-1 w mul 0 rlineto
0 -1 h mul rlineto   %Is there a better way to do -h or h steps down?
w 0 rlineto
closepath
stroke
grestore
 } def


 %x y rectangle % bbox 4

/h 95 def
/w 95 def
 /rectangle {
gsave
newpath % start in top right corner with drawing
 moveto
 %deg rotate
 w 2 div x add h 2 div y add moveto
-1 w mul 0 rlineto
0 -1 h mul rlineto   %Is there a better way to do -h or h steps down?
w 0 rlineto
closepath
stroke
grestore
 } def


 x y rectangle % bbox 3

/h 223 def
/w 217 def
 /rectangle {
gsave
newpath % start in top right corner with drawing
 moveto
 w 2 div x add h 2 div y add moveto
-1 w mul 0 rlineto
0 -1 h mul rlineto   %Is there a better way to do -h or h steps down?
w 0 rlineto
closepath
stroke
grestore
 } def

%/x 300 def
%/y 300 def
 x y rectangle

showpage